{"version":3,"sources":["../../../../src/demo/app.js"],"names":[],"mappings":";;;;;AACA,OAAO,OAAP,GAAkB,YAAY;AAC1B,iBAD0B;;AAG1B,QAAM,cAAc,WAAd,CAHoB;;AAK1B,QAAI,SAAS,EAAT,CALsB;;AAO1B,QAAI,OAAO,SAAP,IAAO,CAAU,MAAV,EAAkB,KAAlB,EAAyB;AAChC,SAAC,KAAD,EAAQ,MAAR,EAAgB,OAAhB,EAAyB,OAAzB,CAAiC,UAAU,KAAV,EAAiB;AAC9C,gBAAI,QAAQ,QAAQ,KAAR,CAAR,CAD0C;AAE9C,oBAAQ,KAAR,IAAiB,YAAmB;kDAAN;;iBAAM;;AAChC,0BAAU,iBAAiB,KAAjB,EAAwB,MAAM,WAAN,EAAxB,EAA6C,KAAK,GAAL,CAAS,UAAC,GAAD;2BAAS,YAAY,GAAZ;iBAAT,CAAT,CAAoC,IAApC,CAAyC,GAAzC,CAA7C,CAAV,CADgC;AAEhC,sBAAM,KAAN,CAAY,OAAZ,EAAqB,IAArB,EAFgC;aAAnB,CAF6B;SAAjB,CAAjC,CADgC;;AAUhC,YAAI,cAAc,aAAa,OAAb,CAAqB,WAArB,CAAd,CAV4B;AAWhC,YAAI,WAAJ,EAAiB;AACb,6BAAiB,WAAjB,EAA8B,KAA9B,EADa;AAEb,mBAAO,QAAP,CAAgB,WAAhB,EAFa;AAGb,mBAAO,cAAP,GAHa;SAAjB;;AAMA,eAAO,KAAP,GAjBgC;;AAmBhC,eAAO,EAAP,CAAU,QAAV,EAAoB,YAAY;AAC5B,6BAAiB,OAAO,QAAP,EAAjB,EAAoC,KAApC,EAD4B;SAAZ,CAApB,CAnBgC;KAAzB,CAPe;;AA+B1B,WAAO,IAAP;;;;;;AA/B0B,aAqCjB,gBAAT,CAA0B,IAA1B,EAAgC,KAAhC,EAAuC;AACnC,qBAAa,OAAb,CAAqB,WAArB,EAAkC,IAAlC,EADmC;AAEnC,cAAM,SAAN,GAAkB,YAAY,IAAZ,CAAlB,CAFmC;KAAvC;;;AArC0B,aA2CjB,WAAT,CAAqB,IAArB,EAA2B;AACvB,iBAAS,EAAT,CADuB;AAEvB,YAAI;;AAEA,gBAAI,SAAS,YAAY,KAAK,IAAL,CAAZ,CAAT,CAFJ;AAGA,sBAAU,iBAAiB,QAAjB,EAA2B,QAA3B,EAAqC,MAArC,CAAV;;AAHA,SAAJ,CAKE,OAAO,CAAP,EAAU;AACR,sBAAU,iBAAiB,OAAjB,EAA0B,OAA1B,EAAmC,CAAnC,CAAV,CADQ;SAAV;AAGF,eAAO,MAAP,CAVuB;KAA3B;;;AA3C0B,aAyDjB,WAAT,CAAqB,MAArB,EAA6B;AACzB,YAAI,UAAU,QAAO,uDAAP,KAAkB,QAAlB,IAA8B,OAAO,WAAP,KAAuB,MAAvB,EAA+B;AACvE,mBAAO,KAAK,SAAL,CAAe,MAAf,EAAuB,IAAvB,EAA6B,IAA7B,CAAP,CADuE;SAA3E;;AAIA,YAAI,MAAM,OAAN,CAAc,MAAd,CAAJ,EAA2B;AACvB,mBAAO,KAAK,SAAL,CAAe,MAAf,CAAP,CADuB;SAA3B;;AAIA,eAAO,MAAP,CATyB;KAA7B;;;AAzD0B,aAuEjB,gBAAT,CAA0B,IAA1B,EAAgC,KAAhC,EAAuC,OAAvC,EAAgD;AAC5C,4CAAkC,iCAA4B,wCAAmC,wBAAjG,CAD4C;KAAhD;CAvEc,EAAlB","file":"app.js","sourcesContent":["/* eslint no-console: 0 */\nmodule.exports = (function () {\n    'use strict';\n\n    const STORAGE_KEY = 'DEMO_CODE';\n\n    var output = '';\n\n    var Demo = function (editor, outEl) {\n        ['log', 'warn', 'error'].forEach(function (fname) {\n            var orgFn = console[fname];\n            console[fname] = function (...args) {\n                output += formatOutputItem(fname, fname.toUpperCase(), args.map((arg) => formatValue(arg)).join(' '));\n                orgFn.apply(console, args);\n            };\n        });\n\n\n        var initialCode = localStorage.getItem(STORAGE_KEY);\n        if (initialCode) {\n            handleCodeChange(initialCode, outEl);\n            editor.setValue(initialCode);\n            editor.clearSelection();\n        }\n\n        editor.focus();\n\n        editor.on('change', function () {\n            handleCodeChange(editor.getValue(), outEl);\n        });\n    };\n\n    return Demo;\n\n    ///////////////////////////////////////////////////////////////////////////\n    // PRIVATE HELPER\n\n    /** @private */\n    function handleCodeChange(code, outEl) {\n        localStorage.setItem(STORAGE_KEY, code);\n        outEl.innerHTML = evalContent(code);\n    }\n\n    /** @private */\n    function evalContent(code) {\n        output = '';\n        try {\n            /* jshint evil: true */\n            var result = formatValue(eval(code));\n            output += formatOutputItem('result', 'RESULT', result);\n            /* jshint evil: false */\n        } catch (e) {\n            output += formatOutputItem('error', 'ERROR', e);\n        }\n        return output;\n    }\n\n    /** @private */\n    function formatValue(result) {\n        if (result && typeof result === 'object' && result.constructor === Object) {\n            return JSON.stringify(result, null, '  ');\n        }\n\n        if (Array.isArray(result)) {\n            return JSON.stringify(result);\n        }\n\n        return result;\n    }\n\n\n    /** @private */\n    function formatOutputItem(type, title, content) {\n        return `<div class=\"output-item ${type}\"><div class=\"title\">${title}</div><div class=\"content\">${content}</div></div>`;\n    }\n}());\n"]}